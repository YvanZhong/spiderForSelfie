val str = "0x640/sh0.08/e35/18444668_271197503343102_3154973874882347008_n.jpg\", \"is_video\": false, \"code\": \"BT6Aah-F40L\", \"date\": 1494407538, \"display_src\": \"https://ig-s-c-a.akamaihd.net/hphotos-ak-xfa1/t51.2885-15/s750x750/sh0.08/e35/18444668_271197503343102_3154973874882347008_n\n.jpg\", \"caption\": \"\\ud83c\\udf39\\n\\n#lovestagram #\\ub7fd\\uc2a4\\ud0c0\\uadf8\\ub7a8 #97 #21 #\\uc11c\\uc6b8 #\\uba85\\ub3d9 #\\ub2f9\\uc9c4 #instagood #instalike #instalove #instasize #instagram #selfie #selca #fff #f4f #\\ud314\\ub85c\\uc6b0 #\\u2764\\ufe0f\", \"comments\": {\"count\": 0}, \"likes\": {\"count\": 0}}], \"count\":\n 300173924, \"page_info\": {\"has_next_page\": true, \"end_cursor\": \"J0HWRLZewAAAF0HWRLZcgAAAFiYA\"}}, \"top_posts\": {\"nodes\": [{\"id\": \"1511110132858885774\", \"dimensions\": {\"height\": 743, \"width\": 1080}, \"owner\": {\"id\": \"26777186\"}, \"thumbnail_src\": \"https://ig-s-c-a.akamaihd.net/hphotos-ak-xfa1/t51.2885-15/s64\n0x640/sh0.08/e35/c168.0.743.743/18381013_1217867188331114_1753095961057427456_n.jpg\", \"is_video\": false, \"code\": \"BT4iqjdjBaO\", \"date\": 1494358387, \"display_src\": \"https://ig-s-c-a.akamaihd.net/hphotos-ak-xfa1/t51.2885-15/e35/18381013_1217867188331114_1753095961057427456_n.jpg\", \"caption\": \"\\ud83c\\udf49\\\nud83c\\udf39\\ud83d\\udc99 #selfie\", \"comments\": {\"count\": 389}, \"likes\": {\"count\": 102099}}, {\"id\": \"1511118358744225803\", \"dimensions\": {\"height\": 1080, \"width\": 1080}, \"owner\": {\"id\": \"441750278\"}, \"thumbnail_src\": \"https://ig-s-b-a.akamaihd.net/hphotos-ak-xfa1/t51.2885-15/s640x640/sh0.08/e35/18380612_41\n6407965394697_3687452680311013376_n.jpg\", \"is_video\": false, \"code\": \"BT4kiQahVgL\", \"date\": 1494359367, \"display_src\": \"https://ig-s-b-a.akamaihd.net/hphotos-ak-xfa1/t51.2885-15/e35/18380612_416407965394697_3687452680311013376_n.jpg\", \"caption\": \"\\ud83d\\udca5\\ud83d\\udca5\\ud83d\\udca5Vorher \\u27a1\\ufe0f Na\nchher \\ud83d\\udca5\\ud83d\\udca5\\ud83d\\udca5\\nBEFORE \\u27a1\\ufe0f AFTER \\ud83d\\udcaa\\nfr\\u00fcher VS heute??? 50Kg VS 65KG??? SKINNY VS FIT??? Was findet ihr besser??? Das Bild links: 8Kg im Untergewicht, mager, unsportlich, tr\\u00e4ge, Schwindel, unzufrieden.... das Bild entstand vor etwa 3 1/2 Jahren. \\n\nDas Bild rechts: Gesundes Gewicht, vital, sportlich, fit, gesund, GL\\u00dcCKLICH\\u2757\\ufe0f Ich war so unfassbar ungl\\u00fccklich mit meinem damaligen Untergewicht. Mir ging es so oft schlecht. Mir war so schnell schwarz vor Augen. Ich war schwach. Meine Haut war schlaff \\u0026 mein K\\u00f6rper sah ziem\nlich unweiblich \\u0026 d\\u00fcrr aus. \\nIch will gar nicht so viel dar\\u00fcber reden... \\u2757\\uf"

val p = """"end_cursor.*"""".r

val tmp = p.findFirstIn(str)
tmp.get.split('}').head.replace("\"","").split(':').last

val p2 = """"count": .*, "followed_by_viewer"""".r



val str2 = """<!DOCTYPE html>
             |                <body class="">
             |                    <span id="react-root"></span>
             |                    <script type="text/javascript">window._sharedData = {"activity_counts": null, "config": {"csrf_token": "VeLENMXTAhSJEm9Wzc8JaVIwaP2IP6Wv", "viewer": null}, "country_code": "CN", "language_code": "en", "entry_data": {"ProfilePage": [{"user": {"biography": null, "blocked_by_viewer": false, "country_block": false, "external_url": null, "external_url_linkshimmed": null, "followed_by": {"count": 84}, "followed_by_viewer": false, "follows": {"count": 52}, "follows_viewer": false, "full_name": null, "has_blocked_viewer": false, "has_requested_viewer": false, "id": "2132744970", "is_private": false, "is_verified": false, "profile_pic_url": "https://ig-s-b-a.akamaihd.net/hphotos-ak-xpa1/t51.2885-19/s150x150/17932692_1447225778681653_8432662604836503552_a.jpg", "profile_pic_url_hd": "https://ig-s-b-a.akamaihd.net/hphotos-ak-xpa1/t51.2885-19/s320x320/17932692_1447225778681653_8432662604836503552_a.jpg", "requested_by_viewer": false, "username": "eunji_o27", "connected_fb_page": null, "media": {"nodes": [{"__typename": "GraphImage", "id": "1513071838803252321", "comments_disabled": false, "dimensions": {"height": 1080, "width": 1080}, "owner": {"id": "2132744970"}, "thumbnail_src": "https://ig-s-a-a.akamaihd.net/hphotos-ak-xpa1/t51.2885-15/s640x640/sh0.08/e35/18380555_1967542146823944_7458449410901409792_n.jpg", "is_video": false, "code": "BT_gtIfg9Rh", "date": 1494592240, "display_src": "https://ig-s-a-a.akamaihd.net/hphotos-ak-xpa1/t51.2885-15/e35/18380555_1967542146823944_7458449410901409792_n.jpg", "caption": "#\uc140\uc2a4\ud0c0\uadf8\ub7a8 #\uc140\uce74 #selfie #\uc140\ud53c #\uc778\uc2a4\ud0c0\uadf8\ub7a8 #instagood #instadaily #instalike #daily #\ub370\uc77c\ub9ac #\uba38\uc5c9 #\uc778\uce5c #\ub313\uae00 #\uc18c\ud1b5 #\uc120\ud314 #\ub9de\ud314 #f4f #l4l", "comments": {"count": 0}, "likes": {"count": 0}}, {"__typename": "GraphSidecar", "id": "1513066032259050360", "comments_disabled": false, "dimensions": {"height": 1080, "width": 1080}, "owner": {"id": "2132744970"}, "thumbnail_src": "https://ig-s-b-a.akamaihd.net/hphotos-ak-xpa1/t51.2885-15/s640x640/sh0.08/e35/18380240_121161631786585_104725536198098944_n.jpg", "is_video": false, "code": "BT_fYougqt4", "date": 1494591548, "display_src": "https://ig-s-b-a.akamaihd.net/hphotos-ak-xpa1/t51.2885-15/e35/18380240_121161631786585_104725536198098944_n.jpg", "caption": "\uc878\uc5c5\uc0ac\uc9c4\ud83d\udcf8 #\uc2e4\ud328 #\ud751\uc5ed\uc0ac\uc0dd\uc131 #\uc878\uc5c5\uc0ac\uc9c4 #\uc140\uc2a4\ud0c0\uadf8\ub7a8 #\uc140\ud53c #selfie #\uc778\uc2a4\ud0c0\uadf8\ub7a8 #\uc778\ucc9c #\uace03 #99 #\uc1a1\ub3c4 #instagood #instagram #instalike #f4f #l4l", "comments": {"count": 0}, "likes": {"count": 18}}, {"__typename": "GraphImage", "id": "1510905349580881899", "comments_disabled": false, "dimensions": {"height": 1080, "width": 1080}, "owner": {"id": "2132744970"}, "thumbnail_src": "https://ig-s-a-a.akamaihd.net/hphotos-ak-xpa1/t51.2885-15/s640x640/sh0.08/e35/18381871_1912112089045808_7389922146836807680_n.jpg", "is_video": false, "code": "BT30GkLAX_r", "date": 1494333975, "display_src": "https://ig-s-a-a.akamaihd.net/hphotos-ak-xpa1/t51.2885-15/e35/18381871_1912112089045808_7389922146836807680_n.jpg", "caption": "\uc791\ub144\uc0ac\uc9c4 \ubcf4\ub2c8 \ub098 \uc664\ucf00 \ub299\uc5c8\uc9c0...\ud83d\ude23\n#\uc140\uc2a4\ud0c0\uadf8\ub7a8 #\uc140\uce74 #99 #\uc778\ucc9c #selfie #\uc140\ud53c  #\uc778\uc2a4\ud0c0\uadf8\ub7a8 #f4f #l4l #instagood #instadaily #instalike #\uc18c\ud1b5 #\uc778\uce5c #\uc88b\uc544\uc694 #fff #lfl", "comments": {"count": 0}, "likes": {"count": 31}}, {"__typename": "GraphImage", "id": "1501587762946531128", "comments_disabled": false, "dimensions": {"height": 1350, "width": 1080}, "owner": {"id": "2132744970"}, "thumbnail_src": "https://ig-s-d-a.akamaihd.net/hphotos-ak-xpa1/t51.2885-15/s640x640/sh0.08/e35/c0.135.1080.1080/18095731_1282363128516539_3998252448178241536_n.jpg", "is_video": false, "code": "BTWth1ZgF84", "date": 1493223232, "display_src": "https://ig-s-d-a.akamaihd.net/hphotos-ak-xpa1/t51.2885-15/e35/18095731_1282363128516539_3998252448178241536_n.jpg", "caption": "\uac10\uae30 \uc870\uc2ec\u3160\ud83d\ude37(\uc329\uc5bc\uac00\ub9ac\uac1c\ub294 \uc5ed\uc2dc \ub9c8\uc2a4\ud06c\ud83d\udd92) #\uc140\uc2a4\ud0c0\uadf8\ub7a8 #\uc140\ud53c #selfie #\uc77c\uc0c1 #daily #\uc778\ucc9c #99 #\uc18c\ud1b5 #\ub313\uae00 #f4f #l4l #instagoog", "comments": {"count": 8}, "likes": {"count": 39}}, {"__typename": "GraphSidecar", "id": "1497198290507340283", "comments_disabled": false, "dimensions": {"height": 750, "width": 750}, "owner": {"id": "2132744970"}, "thumbnail_src": "https://ig-s-d-a.akamaihd.net/hphotos-ak-xpa1/t51.2885-15/s640x640/sh0.08/e35/18013327_785568738265071_2925410724769431552_n.jpg", "is_video": false, "code": "BTHHemoAxn7", "date": 1492699966, "display_src": "https://ig-s-d-a.akamaihd.net/hphotos-ak-xpa1/t51.2885-15/s750x750/sh0.08/e35/18013327_785568738265071_2925410724769431552_n.jpg", "caption": "#\uc140\uc2a4\ud0c0\uadf8\ub7a8 #\uc140\ud53c #\uc77c\uc0c1\uc2a4\ud0c0\uadf8\ub7a8 #\uc778\ucc9c #daily #instagram #99 #f4f #l4l  \uba38\uc5c9~\ud83d\ude2e\ud83d\ude2e\ud83d\ude2e", "comments": {"count": 0}, "likes": {"count": 22}}, {"__typename": "GraphSidecar", "id": "1487701751955038398", "comments_disabled": false, "dimensions": {"height": 750, "width": 750}, "owner": {"id": "2132744970"}, "thumbnail_src": "https://ig-s-d-a.akamaihd.net/hphotos-ak-xpa1/t51.2885-15/s640x640/sh0.08/e35/17663653_1729431530720971_9195800099161112576_n.jpg", "is_video": false, "code": "BSlYNx5AaC-", "date": 1491567890, "display_src": "https://ig-s-d-a.akamaihd.net/hphotos-ak-xpa1/t51.2885-15/s750x750/sh0.08/e35/17663653_1729431530720971_9195800099161112576_n.jpg", "caption": "\uc624\ub9ac \uc96c\ub465\uc774\n#\uc140\uc2a4\ud0c0\uadf8\ub7a8 #instagood #\uc77c\uc0c1 #\uc140\ud53c  #99 #f4f #l4l #instagood", "comments": {"count": 3}, "likes": {"count": 40}}], "count": 6, "page_info": {"has_next_page": false, "end_cursor": "AQCnq8VOVjJ4zNoioMvo-qS4xG-KvDmCPdD07kOg3wxIMfwg9Af0nAK1Zkk2-WBlACI"}}}, "logging_page_id": "profilePage_2132744970"}]}, "gatekeepers": {"bn": true, "ld": true, "pl": true}, "qe": {"ebd": {"g": "", "p": {}}, "create": {"g": "", "p": {}}, "disc": {"g": "", "p": {}}, "feed": {"g": "", "p": {}}, "gql": {"g": "", "p": {}}, "su_universe": {"g": "", "p": {}}, "us": {"g": "", "p": {}}, "us_li": {"g": "", "p": {}}, "nav": {"g": "", "p": {}}, "nav_lo": {"g": "", "p": {}}, "poe": {"g": "try_email_and_phone_login_control_05", "p": {"show_phone_or_email_text": "false", "try_email_and_phone_login": "false"}}, "pm": {"g": "", "p": {}}, "profile": {"g": "", "p": {}}, "deact": {"g": "", "p": {}}, "sidecar": {"g": "", "p": {}}, "ufi": {"g": "", "p": {}}, "ufi_loggedout": {"g": "test_20170411", "p": {"is_enabled": "true"}}, "video": {"g": "", "p": {}}}, "hostname": "www.instagram.com", "display_properties_server_guess": {"pixel_ratio": 1.5, "viewport_width": 360}, "environment_switcher_visible_server_guess": true, "platform": "windows_nt_10", "probably_has_app": false, "show_app_install": true};</script>
             |                    <script type="text/javascript" src="/static/bundles/en_US_Commons.js/e5f7ca7652f0.js" crossorigin="anonymous"></script>
             |                    <script type="text/javascript" src="/static/bundles/en_US_ProfilePage.js/c2ab92b23fa8.js" crossorigin="anonymous"></script>
             |                    <script>
             |!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
             |n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
             |n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
             |t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
             |document,'script','//connect.facebook.net/en_US/fbevents.js');
             |
             |fbq('init', '1425767024389221');
             |
             |fbq('track', 'PageView');
             |
             |
             |</script>
             |                    <noscript>
             |
             |
             |</noscript>
             |                </body>
             |            </html>"""


val b = p2.findFirstIn(str2)
b.map{
  r =>
    r.span(_ != '}')._1.drop(9).dropRight(0)
}
